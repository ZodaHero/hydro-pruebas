{"version":3,"file":"ui.js","sourceRoot":"","sources":["../../src/testing/ui.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,IAAI,MAAM,SAAS,CAAA;AAC/B,OAAO,EAAC,KAAK,EAAoB,MAAM,OAAO,CAAA;AAI9C,MAAM,CAAC,MAAM,GAAG,GAAQ,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;IACzC,MAAM,GAAG,GAAG;QACV,GAAG,OAAO,CAAC,GAAG;QACd,GAAG,KAAK,EAAE,GAAG;QACb,iEAAiE;QACjE,sDAAsD;QACtD,6DAA6D;QAC7D,EAAE,EAAE,OAAO;KACZ,CAAA;IAED,OAAO,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,OAAO,KAAK,CAAC,CAAC,EAAE;QAC/E,GAAG,EAAE,SAAS;QACd,GAAG;KACJ,CAAC,CAAA;AACJ,CAAC,CAAA","sourcesContent":["import * as path from '../path'\nimport {execa, ExecaChildProcess} from 'execa'\n\ntype Run = (fixture: string, props?: {env?: {[key: string]: unknown}}) => ExecaChildProcess<string>\n\nexport const run: Run = (fixture, props) => {\n  const env = {\n    ...process.env,\n    ...props?.env,\n    // we need this because ink treats the CI environment differently\n    // by only writing the last frame to stdout on unmount\n    // See more here https://github.com/vadimdemedes/ink/pull/266\n    CI: 'false',\n  }\n\n  return execa('ts-node-esm', [path.resolve(__dirname, `fixtures/${fixture}.ts`)], {\n    cwd: __dirname,\n    env,\n  })\n}\n"]}